<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>View Question</title>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            display: flex;
            flex-direction: column;
        }
    </style>
    <link rel="stylesheet" href="../css/WTOTemplate.css">
    <link rel="stylesheet" href="../css/QuestionView.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="../js/utils/constants/Constants.js"></script>
    <script src="../js/api/constants/RequestConstants.js"></script>
    <script src="../js/api/REST_API.js"></script>

    <script src="../js/controllers/QuestionViewController.js"></script>
    <script src="../js/models/QuestionModel.js"></script>
    <script src="../js/models/AnswerModel.js"></script>

</head>
<body>

<header>
    <a href="Questions.html"><img id="nav-button" src="../img/ic_arrow_back.svg" alt=""></a>
    <p id="question-text"><!--The Question here--></p>
</header>

<section>
  <p class="answers-label">Answers</p>

  <div id="answer-holder">
    <!--<div class="answer-view">
      Question here
    </div>
    <div class="answer-view">
      Question here
    </div>-->

    <div class="option-selection">
      <p>Know the answer?</p> 

      <div class="toolbar">
        <ul class="tool-list">
          <li class="tool">
            <button 
              type="button" 
              data-command='justifyLeft'
              class="tool--btn">
              <i class=' fas fa-align-left'></i>
            </button>
          </li>
          <li class="tool">
            <button 
              type="button" 
              data-command='justifyCenter' 
              class="tool--btn">
              <i class=' fas fa-align-center'></i>
            </button>
          </li>
          <li class="tool">
            <button 
              type="button" 
              data-command="bold" 
              class="tool--btn">
              <i class=' fas fa-bold'></i>
            </button>
          </li>
          <li class="tool">
            <button 
              type="button" 
              data-command="italic"
              class="tool--btn">
              <i class=' fas fa-italic'></i>
            </button>
          </li>
          <li class="tool">
            <button 
              type="button" 
              data-command="underline"
              class="tool--btn">
              <i class=' fas fa-underline'></i>
            </button>
          </li>
            <button 
              type="button" 
              data-command="createlink" 
              class="tool--btn">
              <i class=' fas fa-link'></i>
            </button>
          </li>
        </ul>
      </div>
      <br>

      <div id="output" contenteditable="true"></div>
      <br>

      <script> //javascript code to use rich text functionality/listener onto the div
        let output = document.getElementById('output');
        let buttons = document.getElementsByClassName('tool--btn');
        for (let btn of buttons) {
            btn.addEventListener('click', () => {
                let cmd = btn.dataset['command'];
                if(cmd === 'createlink') {
                    let url = prompt("Enter the link here: ", "http:\/\/");
                    document.execCommand(cmd, false, url);
                } else {
                document.execCommand(cmd, false, null);
            }
         })
        }
      </script>

      <!--<label class="text-input">
        <textarea id="in-answer"></textarea>
      </label>-->

        <!--
          code for the upload of picture
        -->
        <form action="/action_page.php">
          <input type="file" id="myFile" accept="image/*, .pdf" (change)="processFile(imageInput)" name="filename">
          <!--<input type="submit">-->
        </form>

        <!-- 
          javascript code to validate upload file cause the user can upload different types of files not accepted for our system
        -->
        <script>
        function processFile(imageInput) {
          if (imageInput.files[0]) {
            const file: File = imageInput.files[0];
            var pattern = /image-*/;
            var patternpdf = /.pdf/
      
            if (!file.type.match(pattern) || !file.type.match(patternpdf)) {
              alert('Invalid format');
              return;
            }
      
            // here for resizing purposes

          }
        }
      </script>

        <!--
          code ends for the upload
        -->

      <div id="create-answer">Post Answer</div>
    </div>

  </div>
  <hr>
</section>
</body>
</html>
